<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>G16 Veranstaltungen</title>
  <meta name="description" content="G16 Veranstaltungen – Kein Bock auf Diskriminierung!" />

  <style>
    @font-face {
      font-family: 'Typo1915';
      src: url('fonts/1915-Typo-Typewriter.woff2') format('woff2'),
           url('fonts/1915-Typo-Typewriter.woff') format('woff');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    :root{
      --bg: #0a0a0a;
      --panel: #141414;
      --ink: #e1e1e1;
      --muted: #b3b3b3;
      --red: #c11212;
      --red-strong:#ff2a2a;
      --border: #262626;
      --focus: #ff3535;
      --shadow: 0 10px 30px rgba(0,0,0,.5);
      --radius: 10px;
    }

    *{ box-sizing: border-box; }

    body{
      margin:0;
      font-family: 'Typo1915', ui-monospace, "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      background: var(--bg);
      color: var(--ink);
      line-height: 1.5;
      -webkit-text-size-adjust: 100%;
      text-rendering: optimizeLegibility;
    }

    /* Prevent mobile horizontal overflow (emails, long band names, URLs) */
    p, a, .event, .content, .notice { overflow-wrap: anywhere; word-break: break-word; }

    .wrap{ max-width:1100px; width:100%; margin: 0 auto; padding: 0 1rem; }

    .ribbon{
      position: sticky; top:0; z-index: 50;
      width: 100%;
      background: #000; border-bottom: 1px solid var(--border);
      text-align:center; padding: .9rem .8rem;
      box-shadow: var(--shadow);
      -webkit-transform: translateZ(0); /* helps some iOS sticky repaint quirks */
    }
    .ribbon h1{ margin:0; font-size: 2rem; color: var(--red); }
    .ribbon p{ margin:.2rem 0 0; color: var(--muted); font-size: 1rem; }

    header{ border-bottom: 1px solid var(--border); background: #0d0d0d; }
    .mast{ display:grid; gap:1.2rem; align-items:center; padding: 1.6rem 0 1.2rem; }
    .hero{
      margin: 1rem 0 2rem;
      border:1px solid var(--border);
      border-radius: var(--radius);
      overflow:hidden;
      background:#000;
    }
    .hero img{
      width:100%;
      height:auto;
      max-height:340px;
      object-fit:cover;
      display:block;
      referrerpolicy: no-referrer;
    }

    .notice{
      background: #111;
      border:1px dashed var(--border);
      border-radius: var(--radius);
      padding: .9rem 1rem;
      margin: 1.2rem 0 1.2rem;
      color: var(--muted);
    }
    .notice h2{
  margin-top: 0;
}

    h2{ color: var(--red); margin: 1.2rem 0 .6rem; text-align:left; }

    /* Events */
    #events{ display:grid; gap:1.2rem; margin-bottom: 2rem; }
    .event{
      background: var(--panel);
      border:1px solid var(--border);
      border-radius: var(--radius);
      padding: 1rem;
      text-align:left; /* avoid justify oddities on mobile */
    }
    .event .date{ color: var(--red-strong); font-weight:bold; }
    .event .content{ color: var(--ink); white-space: pre-line; }

    /* Calendar */
    .cal{ margin: .2rem 0 2rem; user-select:none; }
    .cal-head{ display:flex; align-items:center; justify-content:space-between; gap:.6rem; margin-bottom:.8rem; }
    .cal-head button{
      background:#000;
      border:1px solid var(--border);
      color: var(--ink);
      padding:.45rem .7rem;
      border-radius:8px;
      cursor:pointer;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    .cal-head button:focus{ outline:2px solid var(--focus); outline-offset:2px; }
    .cal-month{ font-size:1.1rem; color:#fff; text-align:center; flex-grow:1; }
    .cal-grid{ display:grid; grid-template-columns: repeat(7, 1fr); gap:.6rem; }
    .dow, .cell{
      text-align:center;
      padding:.55rem .2rem;
      border-radius:8px;
      border:1px solid var(--border);
      background:#0f0f0f;
    }
    .dow{ color: var(--muted); font-weight:bold; }
    .cell{
      min-height:3rem;
      position:relative;
      -webkit-tap-highlight-color: transparent;
    }
    .cell .day{ position:absolute; top:.4rem; left:.5rem; color: var(--muted); font-size:.95rem; }
    .cell.eventful{ border-color:#2b2b2b; background:#141414; cursor:pointer; }
    .cell.eventful:focus{ outline:2px solid var(--focus); outline-offset:2px; }
    .dot{
      position:absolute; right:.45rem; bottom:.35rem;
      width:.55rem; height:.55rem;
      border-radius:50%;
      background: var(--red-strong);
    }

    /* Contact */
    .contact{
      background: var(--panel);
      border:1px solid var(--border);
      border-radius: var(--radius);
      padding: 1rem;
      margin: 2rem 0;
    }
    label{ display:block; margin:.35rem 0 .2rem; color: var(--muted); text-align:left; }
    input, textarea{
      width:100%;
      padding:.75rem .9rem;
      background:#0e0e0e;
      color:#fff;
      border:1px solid #1f1f1f;
      border-radius:8px;
      font: inherit;
    }
    textarea{ min-height: 160px; resize: vertical; }
    .row{ display:grid; gap:.8rem; grid-template-columns: 1fr 1fr; }
    @media (max-width: 700px){ .row{ grid-template-columns: 1fr; } }
    .btn{
      background: var(--red);
      color: #fff;
      border:1px solid #6f0b0b;
      border-radius: 10px;
      padding:.75rem 1rem;
      cursor:pointer;
      font-weight:bold;
      display:inline-block;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }

    footer{ border-top:1px solid var(--border); color: var(--muted); text-align:center; padding: 1.2rem 0 2.4rem; }

    /* Extra small screens (e.g., iPhone SE / 320px) */
 @media (max-width: 380px){
     html{
    font-size: 50%;

      .ribbon h1{ font-size: 1rem; }
      .ribbon p{ font-size: 0.5rem; }
      .cal-grid{ gap:.4rem; }
      .dow, .cell{ padding:.45rem .15rem; }
      .cell{ min-height:2.6rem; }
      .cell .day{ top:.35rem; left:.4rem; }
    }
}
  </style>
</head>

<body>
  <div class="ribbon">
    <h1>G16 Veranstaltungen</h1>
    <p>Kein Bock auf Diskriminierung!</p>
  </div>

  <header>
    <div class="wrap mast">
      <div class="hero" aria-hidden="true">
        <!-- decorative image => empty alt -->
        <img id="bannerImg"
             src="/assets/banner.jpg"
             alt=""
             referrerpolicy="no-referrer">
      </div>
    </div>
  </header>

  <script>
    // If local file missing, fall back to Imgur automatically
    (function () {
      const img = document.getElementById('bannerImg');
      const fallback = 'https://i.imgur.com/sxL5FZ0.jpg';

      // Use "img.complete" to reduce flicker; still keep a test image.
      const test = new Image();
      test.onload = () => {};
      test.onerror = () => { img.src = fallback; };
      test.src = img.src;
    })();
  </script>

  <main class="wrap">
 <div class="notice">
      <h2>Hinweis:</h2>
      Es gibt bei uns grundsätzlich keinen Kartenvorverkauf, wir können auch keine Karten an der Abendkasse reservieren. Sorry.
    </div>

    <!-- Veranstaltungen -->
    <section aria-labelledby="events-head">
      <h2 id="events-head">Veranstaltungen</h2>

      <div id="events">
        <article class="event" data-date="2026-02-07" id="event-2026-02-07">
          <div class="date">07.02.2026: Konzert</div>
          <div class="content">
Needful Things: Grindcore|Prag
Controlled Existence: Grindcore|Prag
Nidare: Post Blackmetal|Berlin
The Hole: Grindcore|Leipzig

Einlass: 20:00  Bands: 21:00
          </div>
        </article>

        <article class="event" data-date="2026-02-14" id="event-2026-02-14">
          <div class="date">14.02.2026: WYRD•PÄNG RecordRelease</div>
          <div class="content">
Packung: HC Punk
Ecstasphere: Metallic IDM
Oliotronix: 8bit glitch
DerWarst: Circuit Bent Noise
Skam: Mutant Acid
CancelWashington: Hit³

DJ Sets:
Enuit B2B Hektor Lack
Caedes
LUI
Zirkuskind
FRX
Fugly
Einemillion

Einlass: 21:30  Bands: 22:30
          </div>
        </article>

        <article class="event" data-date="2026-02-21" id="event-2026-02-21">
          <div class="date">21.02.2026: Konzert</div>
          <div class="content">
Krav Boca: Punk Rap|France|Greek|Morocco
Flesia: Black Metal|Leipzig
tba + Aftershow

Einlass: 20:00  Bands: 21:00
          </div>
        </article>

        <article class="event" data-date="2026-02-28" id="event-2026-02-28">
          <div class="date">28.02.2026: HEAVY ROOTATION</div>
          <div class="content">
Siren Sisters Soundsystem & MC Treasure Irie x Paam Soundsystem:
Reggae/Dub/Steppa/Bass|München|Grimma|Leipzig

Einlass: 20:00  Bands: 21:00
          </div>
        </article>

        <article class="event" data-date="2026-03-13" id="event-2026-03-13">
          <div class="date">13.03.2026: Konzert</div>
          <div class="content">
Die Bockwurschtbude: Punk|Frankfurt(Oder)
Dead Honeckers: Punk|Leipzig

Einlass: 20:00  Bands: 21:00
          </div>
        </article>

        <article class="event" data-date="2026-03-14" id="event-2026-03-14">
          <div class="date">14.03.2026: Konzert - 20 Jahre Schlagzeiln</div>
          <div class="content">
Schlagzeiln: Zecken Rap|Berlin
tba Support + Aftershow

Einlass: 20:00  Bands: 21:00
          </div>
        </article>
      </div>
    </section>

   <!-- Kalender -->
    <section aria-labelledby="cal-headline">
      <h2 id="cal-headline">Kalender</h2>
      <div class="cal" id="calendar">
        <div class="cal-head">
          <button id="prev" aria-label="Vorheriger Monat">◀</button>
          <div class="cal-month" id="monthLabel">—</div>
          <button id="next" aria-label="Nächster Monat">▶</button>
        </div>
        <div class="cal-grid" id="grid"></div>
      </div>
    </section>

    <!-- Kontakt -->
    <section class="contact" aria-labelledby="contact-head">
      <h2 id="contact-head">Kontakt</h2>
      <p>
        <strong>Fragen &amp; Infos an die Veranstaltungsgruppe:</strong>
        <a href="mailto:vgruppe-g16@mail36.net">vgruppe-g16@mail36.net</a><br>
        <strong>Lost and Found:</strong>
        <a href="mailto:lostatg16@mail36.net">lostatg16@mail36.net</a><br>
        <strong>Stress in der Gieszer gehabt:</strong>
        <a href="mailto:stressatg16@mail36.net">stressatg16@mail36.net</a><br>
        <strong>Dates &amp; Monatsflyer:</strong>
        <a href="mailto:datesatg16@mail36.net">datesatg16@mail36.net</a>
      </p>

      <hr style="border: none; border-top:1px solid var(--border); margin: .8rem 0 1rem;"/>

      <form id="contactForm">
        <div class="row">
          <div>
            <label for="name">Name</label>
            <input id="name" type="text" placeholder="Dein Name" />
          </div>
        </div>
        <label for="email">E-Mail</label>
        <input id="email" type="email" placeholder="dein@mail.tld" />
        <label for="msg">Nachricht</label>
        <textarea id="msg" placeholder="Schreib uns…"></textarea>
        <div style="margin-top:.8rem; text-align:left;">
          <button type="submit" class="btn">Senden</button>
        </div>
      </form>
    </section>
  </main>

  <footer>
    © Gieszer16 · <span id="year">2025</span>
  </footer>

  <script>
    const monthLabel = document.getElementById('monthLabel');
    const grid = document.getElementById('grid');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');
    const DOW = ['Mo','Di','Mi','Do','Fr','Sa','So'];

    const today = new Date();
    // normalize "today" to midnight for date-only compares
    today.setHours(0,0,0,0);

    let view = new Date(today.getFullYear(), today.getMonth(), 1);

    // Remove past events BEFORE calendar render
    document.querySelectorAll('.event[data-date]').forEach(el => {
      const d = el.getAttribute('data-date');
      if (!d) return;
      const eventDate = new Date(d + "T00:00:00");
      if (eventDate < today) el.remove();
    });

    function getEventDates(){
      const dates = new Set();
      document.querySelectorAll('.event[data-date]').forEach(el => {
        const d = el.getAttribute('data-date');
        if (d && /^\d{4}-\d{2}-\d{2}$/.test(d)) dates.add(d);
      });
      return dates;
    }

    function renderCalendar(){
      const eventDates = getEventDates();
      const y = view.getFullYear();
      const m = view.getMonth();

      monthLabel.textContent = new Date(y, m, 1).toLocaleDateString('de-DE', { month:'long', year:'numeric' });

      grid.innerHTML = '';
      for (const w of DOW){
        const el = document.createElement('div');
        el.className = 'dow';
        el.textContent = w;
        grid.appendChild(el);
      }

      const first = new Date(y, m, 1);
      const startOffset = (first.getDay() + 6) % 7; // Monday-based
      const daysInMonth = new Date(y, m+1, 0).getDate();

      for (let i=0;i<startOffset;i++){
        const b = document.createElement('div');
        b.className='cell';
        grid.appendChild(b);
      }

      for (let d=1; d<=daysInMonth; d++){
        const el = document.createElement('div');
        el.className = 'cell';

        const dateStr = `${y}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;

        const day = document.createElement('div');
        day.className='day';
        day.textContent = d;
        el.appendChild(day);

        if (eventDates.has(dateStr)){
          el.classList.add('eventful');
          const dot = document.createElement('div');
          dot.className='dot';
          el.appendChild(dot);
          el.title = 'Event vorhanden';
        }

        grid.appendChild(el);
      }
    }

    prevBtn.addEventListener('click', () => { view.setMonth(view.getMonth()-1); renderCalendar(); });
    nextBtn.addEventListener('click', () => { view.setMonth(view.getMonth()+1); renderCalendar(); });

    renderCalendar();
    document.getElementById('year').textContent = new Date().getFullYear();

    // Contact form (mailto)
    document.getElementById('contactForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const to = "vgruppe-g16@mail36.net";
      const name = document.getElementById('name').value.trim();
      const from = document.getElementById('email').value.trim();
      const msg = document.getElementById('msg').value.trim();
      const subject = encodeURIComponent(`[G16] Nachricht von ${name || 'Website'}`);
      const body = encodeURIComponent((from ? `Absender: ${from}\n\n` : '') + msg);
      window.location.href = `mailto:${to}?subject=${subject}&body=${body}`;
    });
  </script>
</body>
</html>
