d<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>G16 Veranstaltungen</title>
  <meta name="description" content="G16 Veranstaltungen – Kein Bock auf Diskriminierung!" />

  <style>
    @font-face {
      font-family: 'Typo1915';
      src: url('fonts/1915-Typo-Typewriter.woff2') format('woff2'),
           url('fonts/1915-Typo-Typewriter.woff') format('woff');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    :root{
      --bg: #0a0a0a;
      --panel: #141414;
      --ink: #e1e1e1;
      --muted: #b3b3b3;
      --red: #c11212;
      --red-strong:#ff2a2a;
      --border: #262626;
      --focus: #ff3535;
      --shadow: 0 10px 30px rgba(0,0,0,.5);
      --radius: 10px;
    }

    body{
      margin:0;
      font-family: 'Typo1915', 'Courier New', Courier, monospace;
      background: var(--bg);
      color: var(--ink);
      line-height: 1.5;
    }
    .wrap{ max-width:1100px; width:100%; margin: 0 auto; padding: 0 1rem; box-sizing:border-box; }

    .ribbon{
      position: sticky; top:0; z-index: 50;
      width: 100%;
      background: #000; border-bottom: 1px solid var(--border);
      text-align:center; padding: .9rem .8rem;
      box-shadow: var(--shadow);
    }
    .ribbon h1{ margin:0; font-size: 2rem; color: var(--red); }
    .ribbon p{ margin:.2rem 0 0; color: var(--muted); font-size: 1rem; }

    header{ border-bottom: 1px solid var(--border); background: #0d0d0d; }
    .mast{ display:grid; gap:1.2rem; align-items:center; padding: 1.6rem 0 1.2rem; }
    .hero{ margin: 1rem 0 2rem; border:1px solid var(--border); border-radius: var(--radius); overflow:hidden; background:#000; }
    .hero img{ width:100%; height:auto; max-height:340px; object-fit:cover; display:block; }

    .notice{ background: #111; border:1px dashed var(--border); border-radius: var(--radius); padding: .9rem 1rem; margin: 0 0 1.2rem; color: var(--muted); }
    .notice strong{ color: var(--red); }

    h2{ color: var(--red); margin: 1.2rem 0 .6rem; text-align:left; }

    /* Events */
    #events{ display:grid; gap:1.2rem; margin-bottom: 2rem; }
    .event{ background: var(--panel); border:1px solid var(--border); border-radius: var(--radius); padding: 1rem; text-align:justify; }
    .event .date{ color: var(--red-strong); font-weight:bold; text-align:left; }
    .event .content{ color: var(--ink); white-space: pre-line; text-align:left; }

    /* Calendar */
    .cal{ margin: .2rem 0 2rem; user-select:none; }
    .cal-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:.8rem; }
    .cal-head button{ background:#000; border:1px solid var(--border); color: var(--ink); padding:.45rem .7rem; border-radius:8px; cursor:pointer; }
    .cal-head button:focus{ outline:2px solid var(--focus); outline-offset:2px; }
    .cal-month{ font-size:1.1rem; color:#fff; text-align:center; flex-grow:1; }
    .cal-grid{ display:grid; grid-template-columns: repeat(7, 1fr); gap:.6rem; }
    .dow, .cell{ text-align:center; padding:.55rem .2rem; border-radius:8px; border:1px solid var(--border); background:#0f0f0f; }
    .dow{ color: var(--muted); font-weight:bold; }
    .cell{ min-height:3rem; position:relative; }
    .cell .day{ position:absolute; top:.4rem; left:.5rem; color: var(--muted); font-size:.95rem; }
    .cell.eventful{ border-color:#2b2b2b; background:#141414; }
    .dot{ position:absolute; right:.45rem; bottom:.35rem; width:.55rem; height:.55rem; border-radius:50%; background: var(--red-strong); }

    /* Contact */
    .contact{ background: var(--panel); border:1px solid var(--border); border-radius: var(--radius); padding: 1rem; margin: 2rem 0; }
    label{ display:block; margin:.35rem 0 .2rem; color: var(--muted); text-align:left; }
    input, textarea, select{ width:100%; padding:.75rem .9rem; background:#0e0e0e; color:#fff; border:1px solid #1f1f1f; border-radius:8px; box-sizing:border-box; }
    textarea{ min-height: 160px; }
    .row{ display:grid; gap:.8rem; grid-template-columns: 1fr 1fr; }
    @media (max-width: 700px){ .row{ grid-template-columns: 1fr; } }
    .btn{ background: var(--red); color: #fff; border:1px solid #6f0b0b; border-radius: 10px; padding:.75rem 1rem; cursor:pointer; font-weight:bold; display:inline-block; }

    footer{ border-top:1px solid var(--border); color: var(--muted); text-align:center; padding: 1.2rem 0 2.4rem; }
  </style>
</head>
<body>
  <div class="ribbon">
    <h1>G16 Veranstaltungen</h1>
    <p>Kein Bock auf Diskriminierung!</p>
  </div>

 <header>
  <div class="wrap mast">
    <div class="hero" aria-hidden="true">
      <!-- minimal, robust banner -->
      <img id="bannerImg"
           src="/assets/banner.jpg"
           alt="Gieszer 16 Eingang – Banner"
           style="width:100%;height:auto;max-height:340px;object-fit:cover;display:block;">
    </div>
  </div>
</header>

<script>
  // If local file missing, fall back to Imgur automatically
  (function () {
    const img = document.getElementById('bannerImg');
    const fallback = 'https://i.imgur.com/sxL5FZ0.jpg';
    const test = new Image();
    test.onload = () => { /* local exists, do nothing */ };
    test.onerror = () => { img.src = fallback; };
    test.src = img.src; // try /assets/banner.jpg
  })();
</script>

  <main class="wrap">
    <div class="notice"><strong>Hinweis:</strong> Es gibt bei uns grundsätzlich keinen Kartenvorverkauf, wir können auch keine Karten an der Abendkasse reservieren. Sorry.</div>

    <!-- Veranstaltungen -->
    <section aria-labelledby="events-head">
      <h2 id="events-head">Veranstaltungen</h2>
      <div id="events">

        <article class="event" data-date="2025-12-30">
          <div class="date">30.12. Present of the Future</div>
          <div class="content">
Start 20h 
          </div>
        </article>
      </div>
    </section>

    <!-- Kalender -->
    <section aria-labelledby="cal-headline">
      <h2 id="cal-headline">Kalender</h2>
      <div class="cal" id="calendar">
        <div class="cal-head">
          <button id="prev" aria-label="Vorheriger Monat">◀</button>
          <div class="cal-month" id="monthLabel">—</div>
          <button id="next" aria-label="Nächster Monat">▶</button>
        </div>
        <div class="cal-grid" id="grid"></div>
      </div>
    </section>

    <!-- Kontakt -->
    <section class="contact" aria-labelledby="contact-head">
      <h2 id="contact-head">Kontakt</h2>
      <p>
        <strong>Fragen &amp; Infos an die Veranstaltungsgruppe:</strong>
        <a href="mailto:vgruppe-g16@mail36.net">vgruppe-g16@mail36.net</a><br>
        <strong>Lost and Found:</strong>
        <a href="mailto:lostatg16@mail36.net">lostatg16@mail36.net</a><br>
        <strong>Stress in der Gieszer gehabt:</strong>
        <a href="mailto:stressatg16@mail36.net">stressatg16@mail36.net</a><br>
        <strong>Dates &amp; Monatsflyer:</strong>
        <a href="mailto:datesatg16@mail36.net">datesatg16@mail36.net</a>
      </p>

      <hr style="border: none; border-top:1px solid var(--border); margin: .8rem 0 1rem;"/>

      <form id="contactForm">
        <div class="row">
          <div>
            <label for="name">Name</label>
            <input id="name" type="text" placeholder="Dein Name" />
          </div>
        </div>
        <label for="email">E-Mail</label>
        <input id="email" type="email" placeholder="dein@mail.tld" />
        <label for="msg">Nachricht</label>
        <textarea id="msg" placeholder="Schreib uns…"></textarea>
        <div style="margin-top:.8rem; text-align:left;">
          <button type="submit" class="btn">Senden</button>
        </div>
      </form>
    </section>
  </main>

  <footer>
    © Gieszer16 · <span id="year">2025</span>
  </footer>

  <script>
    const monthLabel = document.getElementById('monthLabel');
    const grid = document.getElementById('grid');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');
    const DOW = ['Mo','Di','Mi','Do','Fr','Sa','So'];
    const today = new Date();
    let view = new Date(today.getFullYear(), today.getMonth(), 1);

    // Collect dates from the event list (data-date attributes)
    function getEventDates(){
      const dates = new Set();
      document.querySelectorAll('.event[data-date]').forEach(el => {
        const d = el.getAttribute('data-date');
        if (d && /^\d{4}-\d{2}-\d{2}$/.test(d)) dates.add(d);
      });
      return dates;
    }

    function renderCalendar(){
      const eventDates = getEventDates();
      const y = view.getFullYear();
      const m = view.getMonth();
      monthLabel.textContent = new Date(y, m, 1).toLocaleDateString('de-DE', { month:'long', year:'numeric' });

      grid.innerHTML = '';
      for (const w of DOW){
        const el = document.createElement('div');
        el.className = 'dow'; el.textContent = w; grid.appendChild(el);
      }

      const first = new Date(y, m, 1);
      const startOffset = (first.getDay() + 6) % 7;
      const daysInMonth = new Date(y, m+1, 0).getDate();
      for (let i=0;i<startOffset;i++){
        const b = document.createElement('div'); b.className='cell'; grid.appendChild(b);
      }
      for (let d=1; d<=daysInMonth; d++){
        const el = document.createElement('div');
        el.className = 'cell';
        const dateStr = `${y}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
        const day = document.createElement('div'); day.className='day'; day.textContent = d; el.appendChild(day);
        if (eventDates.has(dateStr)){
          el.classList.add('eventful');
          const dot = document.createElement('div'); dot.className='dot'; el.appendChild(dot);
          el.title = 'Event vorhanden';
        }
        grid.appendChild(el);
      }
    }

    prevBtn.addEventListener('click', () => { view.setMonth(view.getMonth()-1); renderCalendar(); });
    nextBtn.addEventListener('click', () => { view.setMonth(view.getMonth()+1); renderCalendar(); });

    // Init
    renderCalendar();
    document.getElementById('year').textContent = new Date().getFullYear();

    // Remove past events
    document.querySelectorAll('.event[data-date]').forEach(el => {
      const d = el.getAttribute('data-date');
      if (d) {
        const eventDate = new Date(d);
        if (eventDate < today) {
          el.remove();
        }
      }
    });

    // Contact form (mailto)
    document.getElementById('contactForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const to = "vgruppe-g16@mail36.net";
      const name = document.getElementById('name').value.trim();
      const from = document.getElementById('email').value.trim();
      const msg = document.getElementById('msg').value.trim();
      const subject = encodeURIComponent(`[G16] Nachricht von ${name || 'Website'}`);
      const body = encodeURIComponent((from ? `Absender: ${from}\n\n` : '') + msg);
      window.location.href = `mailto:${to}?subject=${subject}&body=${body}`;
    });
  </script>
</body>
</html>
